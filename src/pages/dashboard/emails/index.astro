---
// Import necessary components
import MainLayout from '@/layouts/MainLayout.astro';
import DashboardLayout from '@/layouts/DashboardLayout.astro';

import MainSection from '@components/ui/blocks/MainSection.astro';
import { SITE } from '@data/constants';

const pageTitle: string = `Dashboard | ${SITE.title}`;
import Table from '@/components/ui/dashboard/email/Table.astro';

const url = Astro.url;
console.log(url);
const response = await fetch(`https://dansamarluque.com/api/email/getemails`);
const data = await response.json();
---

<DashboardLayout
    title={pageTitle}
    structuredData={{
        '@context': 'https://schema.org',
        '@type': 'WebPage',
        '@id': 'https://dansamarluque.com/instalaciones',
        url: 'https://dansamarluque.com/instalaciones',
        name: 'E | Dansa Mar Luque',
        description:
            'Descubre todas nuestras instalaciones de Estudi de Dansa Mar Luque',
        isPartOf: {
            '@type': 'WebSite',
            url: 'https://dansamarluque.com',
            name: 'Dansa Mar Luque',
            description:
                'Bienvenido a estudio de danza Mar Luque en Sabadell. Ofrecemos una amplia variedad de clases para estudiantes de todas las edades y niveles.',
        },
        inLanguage: 'es',
    }}>
    <!--MainSection is the introductory section of the page, it also contains a CTA button-->
    <MainSection title="Correos" subTitle="" />
    <Table values={data} />
</DashboardLayout>
<style></style>
