---
interface Props {
    values: any;
}

const { values } = Astro.props;

const emails = values.emails;
//console.log(emails);
import Modal from './Modal.astro';
---

<div class="relative overflow-x-auto shadow-md sm:rounded-lg">
    <table
        class="w-full text-left text-sm text-gray-500 dark:text-gray-400 rtl:text-right">
        <thead
            class="bg-gray-100 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400">
            <tr>
                <th scope="col" class="px-6 py-3"> Correo </th>
                <th scope="col" class="px-6 py-3"> Nombre </th>
                <th scope="col" class="px-6 py-3"> Apellido </th>
                <th scope="col" class="px-6 py-3"> Mensaje </th>
                <th
                    scope="col"
                    class="w-[10%] border-l-2 border-l-gray-200 px-6 py-3 text-center dark:border-l-gray-500">
                    <span class="">Acciones</span>
                </th>
            </tr>
        </thead>
        <tbody>
            {
                emails.map((value: any) => (
                    <tr class="border-b bg-white hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-600">
                        <th
                            scope="row"
                            class="whitespace-nowrap px-6 py-4 font-medium text-gray-900 dark:text-white">
                            {value.email}
                        </th>
                        <td class="px-6 py-4">{value.name}</td>
                        <td class="px-6 py-4">{value.lastname}</td>
                        <td class="m-0 h-8 cursor-pointer dark:hover:bg-gray-500  dark:hover:bg-opacity-20">
                            <Modal
                                modal_target={value.id}
                                text={value.message}
                                text_button={value.message.split('\n')[0]}
                                username={`${value.name} ${value.lastname} (${value.email})`}
                            />
                        </td>
                        <td class="flex w-[100%] items-center justify-center px-6 py-3 dark:hover:bg-gray-600">
                            <a
                                href="#"
                                class="text-blue-600 dark:text-blue-500 font-medium hover:underline">
                                Responder
                            </a>
                            <a
                                href="#"
                                class="ms-3 font-medium text-red-600 hover:underline dark:text-red-500">
                                Remove
                            </a>
                        </td>
                    </tr>
                ))
            }
        </tbody>
    </table>
</div>
